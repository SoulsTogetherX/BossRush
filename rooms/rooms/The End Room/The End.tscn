[gd_scene load_steps=16 format=3 uid="uid://8xcdttdfpjaq"]

[ext_resource type="Script" path="res://rooms/room.gd" id="1_5stgi"]
[ext_resource type="PackedScene" uid="uid://bsn4rpp66og77" path="res://src/level_objects/orbs/reward_manager.tscn" id="2_td27i"]
[ext_resource type="PackedScene" uid="uid://g022ma38jmtk" path="res://src/characters/player/Doggo.tscn" id="3_3j63k"]
[ext_resource type="Texture2D" uid="uid://chfvc3f5slcda" path="res://assets/sprites/ground/The End/Floor 3 Clouds-export.png" id="3_egynh"]
[ext_resource type="Texture2D" uid="uid://dbylb5wla1gp0" path="res://assets/sprites/ground/The End/Floor 3 Clouds-back-export.png" id="3_fxamg"]
[ext_resource type="Texture2D" uid="uid://cxxtotkvb77ed" path="res://assets/sprites/ground/The End/Floor 3.png" id="4_20be0"]
[ext_resource type="Script" path="res://src/characters/player/Cam.gd" id="4_wlwt0"]
[ext_resource type="Script" path="res://rooms/rooms/The End Room/Platform.gd" id="5_24dwv"]
[ext_resource type="PackedScene" uid="uid://2t51xt3spvld" path="res://src/characters/bosses/The End/Boss_Parts/TheEnd.tscn" id="8_e1u48"]

[sub_resource type="Gradient" id="Gradient_vvury"]
offsets = PackedFloat32Array(0.00643087, 1)
colors = PackedColorArray(0, 0.156863, 0.329412, 1, 0.721569, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_8s4mc"]
gradient = SubResource("Gradient_vvury")
fill_from = Vector2(0.42735, 0.452991)
fill_to = Vector2(1, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_np6f4"]
size = Vector2(641.5, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jxmio"]
size = Vector2(21.9375, 335)

[sub_resource type="Gradient" id="Gradient_rdcti"]
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_owtm7"]
gradient = SubResource("Gradient_rdcti")
width = 160
height = 96
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[node name="TheEnd" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_5stgi")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.98, 0.98)

[node name="Sky" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
modulate = Color(0.615686, 0.615686, 0.615686, 1)
position = Vector2(-10.4999, 115)
scale = Vector2(33.2031, 15.6563)
texture = SubResource("GradientTexture2D_8s4mc")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.85, 0.85)

[node name="Clouds_back" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer3"]
modulate = Color(0.482353, 0.482353, 0.482353, 1)
position = Vector2(-3, 138)
texture = ExtResource("3_egynh")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.9, 0.9)

[node name="Clouds" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
modulate = Color(0.619608, 0.619608, 0.619608, 1)
texture = ExtResource("3_egynh")

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.95, 0.95)

[node name="Clouds2" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer4"]
modulate = Color(0.678431, 0.678431, 0.678431, 1)
scale = Vector2(1, 1.2)
texture = ExtResource("3_egynh")

[node name="ParallaxLayer5" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.96, 0.96)

[node name="Clouds2" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer5"]
modulate = Color(0.54902, 0.54902, 0.54902, 1)
position = Vector2(0, -78)
scale = Vector2(1, 1.2)
texture = ExtResource("3_fxamg")

[node name="ParallaxLayer6" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(0, -2)
motion_scale = Vector2(0.965, 0.965)

[node name="Clouds2" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer6"]
modulate = Color(0.678431, 0.678431, 0.678431, 1)
position = Vector2(0, -5)
scale = Vector2(1, 1.2)
texture = ExtResource("3_fxamg")

[node name="Floor" type="Sprite2D" parent="."]
modulate = Color(0.92549, 0.92549, 0.92549, 1)
top_level = true
z_index = -10
position = Vector2(8.68903, 7.1396)
texture = ExtResource("4_20be0")
script = ExtResource("5_24dwv")
decay_factor = 0.1
influence_factor = 0.01
resist_factor = 0.1
min_h_oscillator = 10.0
max_h_oscillator = 10.0
min_v_oscillator = 10.0
max_v_oscillator = 10.0
min_h_oscillation = 0.8
max_h_oscillation = 0.8
min_v_oscillation = 1.3
max_v_oscillation = 1.3

[node name="StaticBody2D" type="StaticBody2D" parent="Floor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor/StaticBody2D"]
position = Vector2(0.25, -54)
shape = SubResource("RectangleShape2D_np6f4")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Floor/StaticBody2D"]
position = Vector2(-4, 264)
shape = SubResource("RectangleShape2D_np6f4")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Floor/StaticBody2D"]
position = Vector2(-332.031, 103.5)
shape = SubResource("RectangleShape2D_jxmio")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Floor/StaticBody2D"]
position = Vector2(329, 102)
shape = SubResource("RectangleShape2D_jxmio")

[node name="clip_contents" type="Control" parent="Floor"]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -319.0
offset_top = -41.0
offset_right = 318.0
offset_bottom = 272.0
mouse_filter = 2

[node name="Shadow_Left" type="Sprite2D" parent="Floor/clip_contents"]
position = Vector2(-69, -75)
texture = SubResource("GradientTexture2D_owtm7")

[node name="Shadow_Right" type="Sprite2D" parent="Floor/clip_contents"]
position = Vector2(-69, -75)
texture = SubResource("GradientTexture2D_owtm7")

[node name="Doggo" parent="Floor" instance=ExtResource("3_3j63k")]
position = Vector2(-5, 127)

[node name="Reward_manager" parent="." instance=ExtResource("2_td27i")]

[node name="cam" type="Camera2D" parent="." node_paths=PackedStringArray("follow")]
top_level = true
position = Vector2(15, 127)
script = ExtResource("4_wlwt0")
follow = NodePath("../Floor/Doggo")
auto_follow = true

[node name="TheEnd" parent="." node_paths=PackedStringArray("shadow_left", "shadow_right", "floor") instance=ExtResource("8_e1u48")]
top_level = true
y_sort_enabled = true
position = Vector2(-2, -100)
shadow_left = NodePath("../Floor/clip_contents/Shadow_Left")
shadow_right = NodePath("../Floor/clip_contents/Shadow_Right")
floor = NodePath("../Floor")
rest_offset = Vector2(0, -100)
lerp_coefficent = 0.05
act_on_local = false
min_h_oscillator = 250.0
max_h_oscillator = 250.0
min_v_oscillator = 10.0
max_v_oscillator = 10.0
min_h_oscillation = 0.8
max_h_oscillation = 0.8
min_v_oscillation = 3.0
max_v_oscillation = 3.0
